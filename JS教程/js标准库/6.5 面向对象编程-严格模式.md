6.5 面向对象编程-严格模式
===========================

*《JavaScript教程》作者：阮一峰*

严格模式是从 ES5 进入标准的。严格模式是对 JavaScript 的改善，让其朝着更合理、更安全、更严谨的发展方向。

严格模式可以用于整个脚本，也可以只用于单个函数。

用于整个脚本时，`use strict` 语句必须放在第一行，否则将不起作用。
用于函数时，应放在函数体的第一行。

有时，需要把不同的脚本合并在一个文件里面。如果一个脚本是严格模式，另一个脚本不是，它们的合并就可能出错。这时可以考虑把整个脚本文件放在一个立即执行的匿名函数之中。

**报错严格模式下的保存**

严格模式下，对只读属性赋值，或者删除不可配置（non-configurable）属性都会报错。

严格模式下，对一个只有取值器（getter）、没有存值器（setter）的属性赋值，会报错。

严格模式下，对禁止扩展的对象添加新属性，会报错。

严格模式下，使用eval或者arguments作为标识名，将会报错。

正常模式下，如果函数有多个重名的参数，可以用arguments[i]读取。严格模式下，这属于语法错误。

正常模式下，整数的第一位如果是0，表示这是八进制数；严格模式禁止这种表示法，整数第一位为0，将报错。

**安全模式：增强的安全措施**

正常模式中，如果一个变量没有声明就赋值，默认是全局变量。严格模式这种用法会报错，全局变量必须显式声明。

正常模式下，函数内部的this可能会指向全局对象，严格模式下这种用法报错，避免无意间创造全局变量。

严格模式下，函数内部不得使用fn.caller、fn.arguments，否则会报错。

严格模式明确规定，函数内部使用arguments.callee、arguments.caller将会报错。正常模式下调用它们没有什么作用，但是不会报错。

严格模式下无法删除变量，如果使用delete命令删除一个变量，会报错。只有对象的属性，且属性的描述对象的configurable属性设置为true，才能被delete命令删除。

**严格模式限制了动态绑定**

JavaScript 语言的一个特点，就是允许“动态绑定”，即某些属性和方法到底属于哪一个对象，不是在编译时确定的，而是在运行时（runtime）确定的。

严格模式对动态绑定做了一些限制。某些情况下，只允许静态绑定。也就是说，属性和方法到底归属哪个对象，必须在编译阶段就确定。

严格模式下，使用with语句将报错。因为with语句无法在编译时就确定，某个属性到底归属哪个对象，从而影响了编译效果。

正常模式下，JavaScript 语言有两种变量作用域（scope）：全局作用域和函数作用域。严格模式创设了第三种作用域：eval作用域。正常模式下，eval语句的作用域，取决于它处于全局作用域，还是函数作用域。严格模式下，eval语句本身就是一个作用域，也就是说，eval所生成的变量只能用于eval内部。

严格模式下，函数内部改变参数与 arguments 对象的联系被切断了，两者不再存在联动关系。

**严格模式引入了 ES6 语法**

ES5 的严格模式只允许在全局作用域或函数作用域声明函数。也就是说，不允许在非函数的代码块（如 if 代码块，for 代码块）内声明函数。ES6 允许在代码块之中声明函数。

ES5 严格模式新增了一些保留字（implements、interface、let、package、private、protected、public、static、yield等）。使用这些词作为变量名将会报错。